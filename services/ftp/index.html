<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="FTP (File Transfer Protocol) Enumeration for Pentesting"><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="FTP - 21"><meta property="og:description" content="FTP (File Transfer Protocol) Enumeration for Pentesting"><meta property="og:type" content="article"><meta property="og:url" content="https://0xffsec.com/book/services/ftp/"><meta property="article:modified_time" content="2020-08-11T19:31:02+02:00"><title>FTP - 21 | 0xffsec Penetration Testing Book</title><link rel=manifest href=/book/manifest.json><link rel=icon href=/book/favicon.png type=image/x-icon><link rel=stylesheet href=/book/book.min.57bbbeacd5a09f86500c98715e9090c679adaabd3284c4cc22218be87c7e4a56.css integrity="sha256-V7u+rNWgn4ZQDJhxXpCQxnmtqr0yhMTMIiGL6Hx+SlY="><script defer src=/book/en.search.min.3af4be1305c7120d606505d7fd687c7103ad8459312fc977fa6db83c7774256f.js integrity="sha256-OvS+EwXHEg1gZQXX/Wh8cQOthFkxL8l3+m24PHd0JW8="></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-142676329-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/book><span>0xffsec Penetration Testing Book</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><span>Discovery and Scanning</span><ul><li><a href=/book/discovery-and-scanning/host-discovery/>Host Discovery</a></li><li><a href=/book/discovery-and-scanning/port-scanning/>Port Scanning</a></li></ul></li><li><a href=/book/exploits-search/>Exploits Search</a></li><li><a href=/book/brute-forcing/>Brute Forcing</a></li><li><a href=/book/services/>Services</a><ul><li><a href=/book/services/ftp/ class=active>FTP - 21</a></li><li><a href=/book/services/smtp/>SMTP - 25 / 465 / 587</a></li><li><a href=/book/services/dns/>DNS - 53</a></li><li><a href=/book/services/http-https/>HTTP/S - 80 / 443</a></li><li><a href=/book/services/pop/>POP - 110 / 995</a></li><li><a href=/book/services/nntp/>NNTP - 119 / 433 / 563</a></li><li><a href=/book/services/smb/>SMB - 139 / 445</a></li><li><a href=/book/services/imap/>IMAP - 143 / 993</a></li></ul></li><li><a href=/book/steganography/>Steganography</a></li><li><span>Web Applications</span><ul><li><a href=/book/web-applications/cgi/>CGI</a></li><li><a href=/book/web-applications/command-injection/>Command Injection</a></li><li><a href=/book/web-applications/file-inclusion-and-path-traversal/>File Inclusion</a></li></ul></li><li><span>Shells</span><ul><li><a href=/book/shells/reverse-shells/>Reverse Shells</a></li><li><a href=/book/shells/restricted-shells/>Restricted Shells</a></li></ul></li><li><a href=/book/notes/ class=collapsed>Notes</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/book/svg/menu.svg class=book-icon alt=Menu></label>
<strong>FTP - 21</strong>
<label for=toc-control><img src=/book/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#banner-grabbing>Banner Grabbing</a><ul><li></li></ul></li><li><a href=#ftp-exploits-search>FTP Exploits Search</a></li><li><a href=#anonymous-login>Anonymous Login</a></li><li><a href=#ftp-browser-client>FTP Browser Client</a></li><li><a href=#brute-forcing>Brute Forcing</a></li><li><a href=#configuration-files>Configuration files</a></li><li><a href=#miscellaneous>Miscellaneous</a><ul><li><a href=#binary-and-ascii>Binary and ASCII</a></li><li><a href=#recursively-download>Recursively Download</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=ftp>FTP</h1><blockquote class="book-hint info"><p>File Transfer Protocol.</p><p><strong>Default Port:</strong> 21</p></blockquote><p>FTP is a standard network protocol used for the transfer of files between a client and a server on a computer network.
FTP is built on a client-server architecture using separate control and data connections between the client and the server. FTP authenticates users with a clear-text sign-in protocol, normally in the form of a username and password, but can connect anonymously if the server is configured to allow it. <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></p><h2 id=banner-grabbing>Banner Grabbing</h2><h4 id=telnet>Telnet</h4><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>telnet 10.0.0.3 <span style=color:#3677a9>21</span>
</code></pre></div><h4 id=netcat>Netcat</h4><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>nc -n 10.0.0.3 <span style=color:#3677a9>21</span>
</code></pre></div><h4 id=bannerhttpsnmaporgnsedocscriptsbannerhtml-nse-script><a href=https://nmap.org/nsedoc/scripts/banner.html>banner</a> NSE Script</h4><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>nmap -sV -script banner -p21 -Pn 10.0.0.3
</code></pre></div><h4 id=ftp-1>FTP</h4><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>ftp 10.0.0.3
</code></pre></div><h2 id=ftp-exploits-search>FTP Exploits Search</h2><p>Refer to <a href=https://0xffsec.com/book/exploits-search/>Exploits Search</a></p><h2 id=anonymous-login>Anonymous Login</h2><blockquote class="book-hint info">During the <a href=https://0xffsec.com/book/discovery-and-scanning/port-scanning/>port scanning</a> phase Nmap&rsquo;s script scan (<code>-sC</code>), can be enabled to check for <a href=https://nmap.org/nsedoc/scripts/ftp-bounce.html>FTP Bounce</a> and <a href=https://nmap.org/nsedoc/scripts/ftp-anon.html>Anonymous Login</a>.</blockquote><p>Try anonymous login using <code>anonymous:anonymous</code> credentials.</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>ftp 10.0.0.3
…
Name (10.0.0.3:kali): anonymous
<span style=color:#3677a9>331</span> Please specify the password.
Password: [anonymous]
<span style=color:#3677a9>230</span> Login successful.
</code></pre></div><p>List <strong>all</strong> files in order.</p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>ftp&gt; ls -lat
<span style=color:#3677a9>200</span> PORT <span style=color:#24909d>command</span> successful. Consider using PASV.
<span style=color:#3677a9>150</span> Here comes the directory listing.
…
<span style=color:#3677a9>226</span> Directory send OK.
</code></pre></div><h2 id=ftp-browser-client>FTP Browser Client</h2><blockquote class="book-hint danger">Due to its insecure nature, FTP support is being dropped by <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1574475">Firefox</a> and <a href=https://chromestatus.com/feature/6246151319715840>Google Chrome</a>.</blockquote><p>Try accessing <code>ftp://user:pass@10.0.0.3</code> from your browser.
If not credentials provided <code>anonymous:anonymous</code> is assumed.</p><h2 id=brute-forcing>Brute Forcing</h2><p>Refer to <a href=https://0xffsec.com/book/brute-forcing/#ftp>FTP Brute Forcing</a></p><blockquote class="book-hint info"><a href=https://github.com/danielmiessler/SecLists>SecLists</a> includes a handy list of <a href=https://github.com/danielmiessler/SecLists/blob/master/Passwords/Default-Credentials/ftp-betterdefaultpasslist.txt>FTP default credentials</a>.</blockquote><h2 id=configuration-files>Configuration files</h2><p>Examine configuration files.<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></p><pre><code>ftpusers
ftp.conf
proftpd.conf
</code></pre><h2 id=miscellaneous>Miscellaneous</h2><h3 id=binary-and-ascii>Binary and ASCII</h3><p>Binary and ASCII files have to be uploading using the <code>binary</code> or <code>ascii</code> mode respectively, otherwise, the file will become corrupted. Use the corresponding command to switch between modes.<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup></p><h3 id=recursively-download>Recursively Download</h3><p>Recursively download FTP folder content.<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup></p><div class=highlight><pre style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>wget -m ftp://user:pass@10.0.0.3/
</code></pre></div><section class=footnotes role=doc-endnotes><hr><ol><li id=fn:1 role=doc-endnote><p>Contributors to Wikimedia projects. “File Transfer Protocol - Wikipedia.” Wikipedia, the Free Encyclopedia, Wikimedia Foundation, Inc., 24 May 2002, <a href=https://en.wikipedia.org/wiki/File_Transfer_Protocol>https://en.wikipedia.org/wiki/File_Transfer_Protocol</a>. <a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2 role=doc-endnote><p>“Penetration Testing Methodology” 0DAYsecurity.Com, <a href=http://www.0daysecurity.com/penetration-testing/enumeration.html>http://www.0daysecurity.com/penetration-testing/enumeration.html</a>. <a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3 role=doc-endnote><p>“RFC959: FTP: Data Transfer Functions.” World Wide Web Consortium (W3C), <a href=https://www.w3.org/Protocols/rfc959/3_DataTransfer.html>https://www.w3.org/Protocols/rfc959/3_DataTransfer.html</a>. <a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4 role=doc-endnote><p>Thibaut Barrère. “Command Line - How to Recursively Download a Folder via FTP on Linux - Stack Overflow.” Stack Overflow, <a href=https://stackoverflow.com/a/113900/578050>https://stackoverflow.com/a/113900/578050</a>. <a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/0xffsec/book/commit/5da9c4a1e6a47178d8fb4a06171ff6983945a091 title="Last modified by Max Rodrigo | August 11, 2020" target=_blank rel=noopener><img src=/book/svg/calendar.svg class=book-icon alt=Calendar>
<span>August 11, 2020</span></a></div><div><a class="flex align-center" href=https://github.com/0xffsec/book/edit/master/content//services/ftp.md target=_blank rel=noopener><img src=/book/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#banner-grabbing>Banner Grabbing</a><ul><li></li></ul></li><li><a href=#ftp-exploits-search>FTP Exploits Search</a></li><li><a href=#anonymous-login>Anonymous Login</a></li><li><a href=#ftp-browser-client>FTP Browser Client</a></li><li><a href=#brute-forcing>Brute Forcing</a></li><li><a href=#configuration-files>Configuration files</a></li><li><a href=#miscellaneous>Miscellaneous</a><ul><li><a href=#binary-and-ascii>Binary and ASCII</a></li><li><a href=#recursively-download>Recursively Download</a></li></ul></li></ul></nav></aside></main></body></html>